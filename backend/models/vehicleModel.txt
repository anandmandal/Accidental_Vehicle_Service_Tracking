from pydantic import BaseModel,Field
from typing import Optional,List
from fastapi import FastAPI,File,UploadFile
from bson import ObjectId



# Primary quotation
class PrimaryQuotation(BaseModel):
    date: str = Field(...)|None
    time: str = Field(...)|None
    quotation_No: str=Field(...)|None
    price:float=Field(...)|None
    upload_File:File

# Insurance Surveyor
class InsuranceSurveyor(BaseModel):
    date:str = Field(...)|None
    upload_File:File

# Customer  Approval
class CustomerApproval(BaseModel):
    date:str = Field(...)|None

# Dismentalling Work start
class DismentallingWorkStart(BaseModel):
    date:str = Field(...)|None


# Dismentalling Work End
class DismentallingWorkEnd(BaseModel):
    date:str = Field(...)|None
    upload_File:File|None

# Secondary Estimation Shared
class SecondaryEstimation(BaseModel):
    date:str = Field(...)|None
    
# Customer Approval after Secondary Estimation
class CustomerApprovalAfterSecondary(BaseModel):
    date:str = Field(...)|None

# Parts ordering date
class PartsOrdering(BaseModel):
    date:str = Field(...)|None
    upload_File:File|None

# Last Part ETA
class LastPartETA(BaseModel):
    date:str=Field(...)|None
    tentive_Time:str=Field(...)|None

# Day Wise Update
class DayWiseUpdate(BaseModel):
    date:str=Field(...)|None
    work_Details:str=Field(...)|None



class VehicleModel(BaseModel):
    id: Optional[ObjectId] = Field(alias="_id", default=None)
    vehicle_Registration_No: str = Field(...)
    ch_Id: str = Field(...)
    kms: int = Field(...)
    hrs: float = Field(..., ge=1.0)
    reporting_Date: str=Field(...)
    customer_Name:str=Field(...)
    primary_Quotation_Submitted_to_Surveyor:PrimaryQuotation
    Insurance_Surveyor_visiting_to_Workshop:InsuranceSurveyor
    Customer_Approval_Received_From_Insurance:CustomerApproval
    Dismantling_Work_Started:DismentallingWorkStart
    Dismantling_Work_Completed:DismentallingWorkEnd
    Secondary_Estimation_Shared:SecondaryEstimation
    Customer_Approval_Received_From_Insurance_After:CustomerApprovalAfterSecondary
    Parts_Ordering_Date:PartsOrdering
    Last_Part_ETA:LastPartETA
    Day_Wise_Update:List[DayWiseUpdate]

